<html>
  <head> 
    <style> 
      canvas { 
        border: 1px solid black; 
      } 
    </style> 
  </head> 
  <body>
    <title>TEST 030223-1650</title>
    <h1><strong>THIS PAGE IS PRIVATE, PLEASE CLOSE THE TAB AND GO BACK TO HOMEPAGE</strong></h1>
    <h4>Test for 03/02/23 at 16:50 - MADE FOR EDUCATIONAL USE</h4>
    <canvas id="gameCanvas" width="500" height="500"></canvas> 
    <h6>After you win, restart the website.</h6>
    <script>
const canvas = document.getElementById('gameCanvas'); 
const ctx = canvas.getContext('2d'); 

let x = 50; 
let y = 50; 
let speed = 3; 

// add a win condition 
let endX = 450; 
let endY = 450; 

// score variables 
let score = 0; 

// coin positions 
let coins = [ 
  [100, 100], 
  [200, 200], 
  [300, 300] 
]; 

// load the images 
let playerImg = new Image(); 
playerImg.src = '/testing/personal/EF6390F7-A6E3-4478-A4E9-E3A7D33DD236.png'; 

let endImg = new Image(); 
endImg.src = '/testing/personal/CB73E1B0-4088-4CF7-B1D1-173FADE5E9D0.png'; 

let coinImg = new Image(); 
coinImg.src = '/testing/personal/FFF22614-39E8-47DA-9E2B-354270C32E32.png'; 

document.addEventListener('keydown', keyDownHandler, false); 
document.addEventListener('keyup', keyUpHandler, false); 

function keyDownHandler(e) { 
  if(e.key == 'Right' || e.key == 'ArrowRight') { 
    x += speed; 
  } 
  else if(e.key == 'Left' || e.key == 'ArrowLeft') { 
    x -= speed; 
  } 
  else if(e.key == 'Up' || e.key == 'ArrowUp') { 
    y -= speed; 
  } 
  else if(e.key == 'Down' || e.key == 'ArrowDown') { 
    y += speed; 
  } 
} 

function keyUpHandler(e) { 
  // do nothing 
} 

function draw() { 
  ctx.clearRect(0, 0, canvas.width, canvas.height); 

  // draw the player 
  ctx.drawImage(playerImg, x, y, 50, 50); 

  // draw the end point 
  ctx.drawImage(endImg, endX, endY, 50, 50); 

  // draw the coins 
  for(let i = 0; i < coins.length; i++) { 
    ctx.drawImage(coinImg, coins[i][0] - 20, coins[i][1] - 20, 40, 40); 

    // check if player has collected a coin 
    if(x >= coins[i][0] - 25 && x <= coins[i][0] + 25 && 
       y >= coins[i][1] - 25 && y <= coins[i][1] + 25) { 
      score += 10; 
      coins.splice(i, 1); 
    } 
  } 

  // display score 
  ctx.font = '16px Arial'; 
  ctx.fillStyle = 'black'; 
  ctx.fillText('Score: ' + score, 8, 20); 

  // check if the player has reached the end point
  if(x >= endX && x <= endX + 50 && y >= endY && y <= endY + 50) { 
    alert('You win!'); 
    window.location.reload(false);
  } 
} 

setInterval(draw, 10); 
    </script> 
  </body>
</html>
