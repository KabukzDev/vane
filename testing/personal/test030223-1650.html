<html>
  <head> 
    <style> 
      canvas { 
        border: 1px solid black; 
      } 
    </style> 
  </head> 
  <body>
    <title>TEST 030223-1650</title>
    <h1><strong>THIS PAGE IS PRIVATE, PLEASE CLOSE THE TAB AND GO BACK TO HOMEPAGE</strong></h1>
    <h4>Test for 03/02/23 at 16:50 - MADE FOR EDUCATIONAL USE</h4>
    <canvas id="gameCanvas" width="500" height="500"></canvas> 
    <script>
const canvas = document.getElementById('gameCanvas'); 
const ctx = canvas.getContext('2d'); 

let x = 50; 
let y = 50; 
let speed = 3; 

// add a win condition 
let endX = 450; 
let endY = 450; 

// score variables 
let score = 0; 

// coin positions 
let coins = [ 
  [100, 100], 
  [200, 200], 
  [300, 300] 
]; 

document.addEventListener('keydown', keyDownHandler, false); 
document.addEventListener('keyup', keyUpHandler, false); 

function keyDownHandler(e) { 
  if(e.key == 'Right' || e.key == 'ArrowRight') { 
    x += speed; 
  } 
  else if(e.key == 'Left' || e.key == 'ArrowLeft') { 
    x -= speed; 
  } 
  else if(e.key == 'Up' || e.key == 'ArrowUp') { 
    y -= speed; 
  } 
  else if(e.key == 'Down' || e.key == 'ArrowDown') { 
    y += speed; 
  } 
} 

function keyUpHandler(e) { 
  // do nothing 
} 

function draw() { 
  ctx.clearRect(0, 0, canvas.width, canvas.height); 
  ctx.beginPath(); 
  ctx.rect(x, y, 50, 50); 
  ctx.fillStyle = 'red'; 
  ctx.fill(); 
  ctx.closePath(); 

  // draw the end point 
  ctx.beginPath(); 
  ctx.rect(endX, endY, 50, 50); 
  ctx.fillStyle = 'green'; 
  ctx.fill(); 
  ctx.closePath(); 

  // draw the coins 
  for(let i = 0; i < coins.length; i++) { 
    ctx.beginPath(); 
    ctx.arc(coins[i][0], coins[i][1], 20, 0, Math.PI * 2); 
    ctx.fillStyle = 'yellow'; 
    ctx.fill(); 
    ctx.closePath(); 

    // check if player has collected a coin 
    if(x >= coins[i][0] - 25 && x <= coins[i][0] + 25 && 
       y >= coins[i][1] - 25 && y <= coins[i][1] + 25) { 
      score += 10; 
      coins.splice(i, 1); 
    } 
  } 

  // display score 
  ctx.font = '16px Arial'; 
  ctx.fillStyle = 'black'; 
  ctx.fillText('Score: ' + score, 8, 20); 

  // check if the player has reached the end point
  if(x >= endX && x <= endX + 50 && y >= endY && y <= endY + 50) { 
    alert('You win!'); 
  } 
} 

setInterval(draw, 10); 
    </script> 
  </body>
</html>
